Vagrant.configure("2") do |config|
    config.vm.define "mqtt1-u" do |twin|
      twin.vm.box = "cloud-image/ubuntu-24.04"
      twin.vm.network "private_network", ip: "10.0.1.10" 
      twin.vm.provider "virtualbox" do |v|
        v.memory = 4096
        v.cpus = 2
        v.name = "mqtt1-u" 
      end
      twin.vm.provision "ansible" do |ansible|
        ansible.playbook = "configure-vm.yml"
      end
    end

  config.vm.define "mqtt2-u" do |twin|
    twin.vm.box = "cloud-image/ubuntu-24.04"
    twin.vm.network "private_network", ip: "10.0.1.11"
    twin.vm.provider "virtualbox" do |v|
      v.memory = 4096
      v.cpus = 2
      v.name = "mqtt2-u"
    end
    twin.vm.provision "ansible" do |ansible|
      ansible.playbook = "configure-vm.yml"
    end
  end
end